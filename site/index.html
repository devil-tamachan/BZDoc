<!DOCTYPE html><html lang="ja"><head><title>Binary Editor BZ</title><meta charset="utf-8"><meta name="description" content="Binary Editor BZのヘルプ"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="style/garden.css" media="all"><link rel="stylesheet" href="style/print.css" media="print"><!--[if lt IE 9]>
<script src="javascript/html5shiv.js"></script>
<![endif]-->
</head><body><!-- Navigation--><nav id="nav_main"><div><ul><li class="active"><a href="/JavaScript-Garden/" title="Binary Editor BZ in Japanese">ja</a></li></ul><a id="top" href="#intro" title="Back to top">#top</a><a id="hide_menu" class="tablet">Hide Menu</a></div><ul><li class="nav_intro"><h1><a href="#intro">はじめに</a></h1><ul></ul></li><li class="nav_shortcut"><h1><a href="#shortcut">ショートカット操作</a></h1><ul><li><a href="#shortcut.basic">基本操作</a></li><li><a href="#shortcut.high">応用操作</a></li></ul></li><li class="nav_findbox"><h1><a href="#findbox">検索ボックス</a></h1><ul><li><a href="#findbox.findbox">検索ボックス</a></li></ul></li><li class="nav_splitview"><h1><a href="#splitview">ダブルウィンドウ</a></h1><ul><li><a href="#splitview.splitview">ダブルウィンドウ</a></li></ul></li><li class="nav_filemapping"><h1><a href="#filemapping">ファイルマッピング</a></h1><ul><li><a href="#filemapping.filemapping">ファイルマッピング</a></li></ul></li><li class="nav_subviews"><h1><a href="#subviews">各種サブビュー</a></h1><ul><li><a href="#subviews.bmpview">ビットマップビュー</a></li><li><a href="#subviews.structview">構造体ビュー</a></li><li><a href="#subviews.inspectview">インスペクタビュー</a></li><li><a href="#subviews.zlibanalyzer">zlibアナライザー</a></li></ul></li><li class="nav_other"><h1><a href="#other">その他</a></h1><ul><li><a href="#other.tips"><code>Tips</code></a></li></ul></li><li class="nav_specialthanks"><h1><a href="#specialthanks">Special Thanks</a></h1><ul><li><a href="#specialthanks.specialthanks">Special Thanks</a></li></ul></li></ul></nav><!-- Mobile navigation--><nav id="nav_mobile"><a id="nav_prev_section" href="#">prev section<span class="nav_section_name">section name</span></a><a id="nav_next_section" href="#">next section<span class="nav_section_name">section name</span></a><a id="show_menu">show menu</a></nav><!-- Sections--><section id="intro"><!-- Introduction--><header id="intro.intro"><h1>はじめに</h1><div><p><strong>Binary Editor BZ</strong> は、シンプルなバイナリエディタです。次のような特長があります。</p>
<ul>
<li>ＳＤＩアプリケーションでありながら、画面を２分割し、２つのファイルを表示可能</li>
<li>構造体ファイルを参照して、構造体のメンバをリスト表示可能</li>
<li>ファイルの構造を一度に見渡せる、ビットマップビュー機能</li>
<li>文字列、バイトデータによる検索機能</li>
<li>Unicode、JIS、EUC文字列表示機能</li>
</ul>
</div></header><!-- Articles--></section><section id="shortcut"><!-- Introduction--><header id="shortcut.intro"><h1>ショートカット操作</h1></header><!-- Articles--><article id="shortcut.basic"><h2>基本操作</h2><div></div><div><h3>移動</h3>
<pre><code>キー        機能
------------------------------------------------------
→←↓↑        １バイト／１行移動
PgUp / PgDn 16行上／下へ
Home / End  行頭／行末へ
Ctrl+Home   ファイルの先頭へ
Ctrl+End    ファイルの末尾へ
Tab         16進数／文字表示領域間移動
Ctrl+Tab    分割画面間の移動
Shift+Tab   構造体表示時に、構造体とダンプ画面間の移動</code></pre>
<hr>
</div><div><h3>データの編集</h3>
<pre><code>メニュー     キー    機能
-------------------------------------------------------------
             Ins     挿入／上書きモードのトグル
             BkSp    カーソルの直前の１バイトを削除
             Del     カーソル上の１バイトまたは選択領域を削除
Edit-Cut     Ctrl+X  選択領域をクリップボードへコピーして削除
Edit-Copy    Ctrl+C  選択領域をクリップボードへコピー
Edit-Paste   Ctrl+V  クリップボードのデータをカーソル位置へ挿入
Edit-Undo    Ctrl+Z  編集の取り消し（何回でも可能）
Edit-ReadOnly        リードオンリモードのトグル</code></pre>
</div></article><article id="shortcut.high"><h2>応用操作</h2><div></div><div><h3>次のメニューまたはコマンドキーで、カーソルを任意の位置へジャンプしたり、データを入力できます。</h3>
<pre><code>メニュー         キー      機能
------------------------------
Jump-Find...     Ctrl+F    検索ボックスで文字列／バイト数値列を入力し検索
Jump-Find Next   F3, Enter 次の検索
Jump-Compare               画面２分割時、２つのファイルを比較
Jump-To...                 検索ボックスで入力したアドレスへジャンプ
Jump-Offset                カーソル位置の byte/word/dword値 ※ を
                           足したアドレスへジャンプ
Jump-Return      Ctrl+R    ジャンプ前の位置へ戻る
Jump-Mark        Ctrl+F2   カーソル位置をマーク（個数に制限はありません）
Jump-Mark Next   F2        次のマークへジャンプ
Edit-Enter Value           カーソル位置へデータを入力。
                           範囲指定時は、選択領域を入力データでFILL</code></pre>
<p>※ <a href="#other.tips">byte/word/dwordの切り替え方</a></p>
</div></article></section><section id="findbox"><!-- Introduction--><header id="findbox.intro"><h1>検索ボックス</h1></header><!-- Articles--><article id="findbox.findbox"><h2>検索ボックス</h2><div><p>ツールバー上のコンボボックスを「検索ボックス」と呼びます。ここで文字列を入力してEnterを押すと、カーソル位置以降で文字列を検索し、見つかったアドレスへジャンプします。</p>
</div><div><h3>View-Character setメニュー</h3>
<pre><code>Ascii       英大小文字を区別して検索
Shift-JIS   英大小文字を区別しないで検索
Unicode     ユニコードで検索
JIS         JISコードで検索
EUC         EUCコードで検索</code></pre>
<p>文字列の先頭文字が、「？＞＜＋＃」の記号の場合は、以下の特別の処理を実行します。</p>
<pre><code>先頭文字  機能
-------------------------------------------------------
?    16進数の計算式を入力できます。演算子は「+-*/&amp;|^」
     演算子に優先順位はありません。左から順次演算されます。
     10進数を入力したい場合は、直前に「％」を付加します。
     演算結果は「= 16進数 (10進数)」で表示され
     、ここでEnterを打つと続けて計算式を入力できます。
&gt;    計算結果のアドレスへジャンプします。
+    カーソル位置に計算結果のオフセットを加えたアドレスへジャンプします。
#    バイト数値列を検索します。各バイトは、カンマ、スペース等で区切ります。
     例: &quot;# 63 2e 6d 6f&quot; (0x632e6d6f を検索)
&lt;    計算結果を byte/word/dword値※ とみなして、カーソル位置に入力します。
     例: &quot;&lt; %100&quot; (カーソル位置へ100を入力)</code></pre>
<p>※ <a href="#other.tips">byte/word/dwordの切り替え方</a></p>
</div></article></section><section id="splitview"><!-- Introduction--><header id="splitview.intro"><h1>ダブルウィンドウ</h1></header><!-- Articles--><article id="splitview.splitview"><h2>ダブルウィンドウ</h2><div><p>BZは、画面を２分割し、２つのファイルを同時に表示できます。</p>
</div><div><h3>画面を分割</h3>
<p><code>View</code>-<code>Split Horizontally</code>/<code>Vertically</code>メニューで、窓を横／縦に２分割します。この時、開いているファイルは複製されます。<br>１つのファイルを２つのビューで表示するのではなく、内部的に二つのファイル（ドキュメント）が存在していることになります。</p>
</div><div><h3>アクティブビュー</h3>
<p><code>マウスクリック</code>または<code>Ctrl+Tab</code>で、アクティブなビューを切り換えられます。</p>
</div><div><h3>ファイルを開く</h3>
<p>アクティブなビューにファイルが表示されます。。</p>
</div><div><h3>便利な比較機能</h3>
<h4>メニューで比較</h4>
<p><code>移動</code>-<code>ファイルの比較</code></p>
<h4>検索ボタンで比較</h4>
<p>検索ボックスが空の状態で、<code>次の検索</code>ボタン (右) を押す。</p>
<h4>検索開始</h4>
<p>カーソル位置から２つのファイルを比較し、最初の不一致点へジャンプします。<br>ファイルサイズが違う場合、差分部分は緑色で表示されます。</p>
</div><div><h3>使用上の注意</h3>
<p>終了時にアクティブではないビューのファイルは、変更されていても保存の確認はなされません。<br>オンメモリモードだと自動的に保存処理。ファイルマッピングモードだと保存前状態まで巻き戻ります
(修正予定)</p>
</div></article></section><section id="filemapping"><!-- Introduction--><header id="filemapping.intro"><h1>ファイルマッピング</h1></header><!-- Articles--><article id="filemapping.filemapping"><h2>ファイルマッピング</h2><div></div><div><h3>高速性</h3>
<pre><code>数10MBを越える巨大なファイルも高速な読み込み、保存が可能です。</code></pre>
<h2>ファイルマッピングの制限</h2>
</div><div><h3>取り扱えるのは4GBまで</h3>
<pre><code>  4GBを越えるファイルは、最後まで読み込めません。
（内部ポインタが32bitのため）</code></pre>
</div><div><h3>リードオンリーモード</h3>
<pre><code>  ファイルを開いた後、リードオンリモードは変更できません。あらかじめ、
 [読込時リードオンリ]メニューを変更してから、開いてください。

  ファイルのプロパティにリードオンリの属性がある場合には、
リードオンリでしか開けません。</code></pre>
</div><div><h3>編集の制限</h3>
<pre><code>  ファイルサイズの変更を伴う編集はできません。
  挿入や削除はできません。</code></pre>
</div><div><h3>保存前にもファイルへ変更が書き込まれます</h3>
<pre><code>  編集中の変更は、保存前にも定期的にファイルへ書き込まれます。
終了時に「変更を保存しますか？」で「いいえ」を選んだ場合は、
内部的にUNDOの処理を行い、開いた時点のファイルの内容へ戻しています。
  そのため強制終了やクラッシュした場合は、変更内容が途中まで
書き込まれている場合があります。</code></pre>
</div><div><h3>その他</h3>
<pre><code>  File Mappingモード時は、アドレスが32bit表示になります。

  File Mappingで開くファイルサイズの下限は、初期状態で1MB(1024KB)です。

 [ツール]-[高度な設定]メニューで、このファイルサイズを変更できます。

  File Mappingで開く場合のメモリ空間(View)のサイズは、ファイル全体をMapして
失敗した場合には、[高度な設定]のViewサイズ(初期状態で64MB)になります。</code></pre>
</div></article></section><section id="subviews"><!-- Introduction--><header id="subviews.intro"><h1>各種サブビュー</h1></header><!-- Articles--><article id="subviews.bmpview"><h2>ビットマップビュー</h2><div><p><code>View</code>-<code>Bitmap View</code>メニューを実行すると、ファイル全体をビットマップデータとみなして、左側へ表示します。ファイルの値に応じてカラーリングされます。</p>
<p>ビットマップ上でクリックすると、カーソルはクリック位置に対応するアドレスへジャンプします。
この機能は、大きな実行ファイル中で、文字列プールの場所を探す時に便利です。</p>
<p>マウスの右クリックで、ビットマップの表示を変更するメニューが開きます。</p>
<hr>
<ul>
<li><code>Width 128</code> 横幅128ドット</li>
<li><code>Width 256</code> 横幅256ドット</li>
</ul>
<hr>
<ul>
<li><code>Zoom</code> ２倍に拡大表示</li>
</ul>
<hr>
<ul>
<li><code>8bit color</code>  I8      1byte/dot ファイルデータ１バイトをカラーパレットへのインデックス値として、BZが生成した256色Safetyパレットから１色参照します。</li>
<li><code>24bit color</code> R8G8B8  3bytes/dot</li>
<li><code>32bit color</code> X8R8G8B8 (Xは未使用スキップ) 4bytes/dot</li>
</ul>
<hr>
</div></article><article id="subviews.structview"><h2>構造体ビュー</h2><div></div><div><h3>ビューの表示</h3>
<p><code>View</code>-<code>Structure View</code>メニューで、構造体ビューが表示されます。</p>
</div><div><h3>操作</h3>
<p>「Structures:」リストの中から表示したい構造体名を選び、次に構造体の先頭アドレスをダブルクリックすると、「Members:」リストに、カーソル位置からのデータを構造体のメンバとして表示します。
「Members:」リスト上の各メンバをクリックすると、そのデータの位置へカーソルが移動します。さらに、メンバをダブルクリックすると、検索ボックスから新たなデータを入力できます。（リードオンリモードでは、入力できません）
※Ver1.61より、メンバの最後の<next>をダブルクリックすると、 次の構造体がある場合にはそれを選択し、次のデータ位置へカーソルを移動します。</p>
</div><div><h3>構造体の追加</h3>
<p>構造体リストは、<code>BZ.DEF</code>ファイルに記述します。</p>
</div><div><h3>BZ.defの保存場所</h3>
<p>インストーラー版: %AppData%\Roaming\BzEditor\Bz.def<br>zip版: Bz.exeと同じディレクトリ</p>
<pre><code>両方存在する場合、Bz.exeと同じディレクトリのBz.defが優先して読み込まれます。</code></pre>
</div><div><h3>書式</h3>
<p>書式はC言語風になっています。</p>
</div><div><h3>変数型</h3>
<pre><code>型名のキーワードは、次の15種です。構造体のネストはできません。

1byte,2byte,4byte,       8byte
-----------------------------------------------------
char, short,long(==int), int64  10進表示 (符号あり)
byte, word, dword,       qword  10進表示 (符号なし)
BYTE, WORD, DWORD,       QWORD  16進表示 (符号なし)

            float,       double 浮動小数点
-----------------------------------------------------

例:  dword cx , cy;
     float fPointX;
     BYTE b1;</code></pre>
</div><div><h3>配列</h3>
<pre><code>例: long dfReserved1[4];</code></pre>
</div><div><h3>ファイル拡張子限定</h3>
<pre><code>例: .bmpと.jpgファイルのみ

struct BMPONLY {
  DWORD m1;
} bmp, jpg;</code></pre>
</div><div><h3>コメント</h3>
<pre><code>C言語風のコメントが２種類使用できます。/* comment */ と //コメント

例:
DWORD dwFlag1; //comment1
BYTE  b1; /* comment2 */</code></pre>
</div></article><article id="subviews.inspectview"><h2>インスペクタビュー</h2><div></div><div><h3>どんなデータか分からない時に</h3>
<p>どんな種類のバイナリか調べられます。
いろいろな種類のデータ(int, float, doubleなど)と仮定して表示できます。</p>
<ul>
<li><code>Signed</code> チェック有りで符号有り、チェック無しで符号無し</li>
<li><code>Intel</code>  チェック有りでリトル・エンディアン、チェック無しでビッグエンディアン</li>
</ul>
</div></article><article id="subviews.zlibanalyzer"><h2>zlibアナライザー</h2><div></div><div><h3>バイナリに埋もれたzlib圧縮データを見つけ、解凍する</h3>
<p><code>View</code>-<code>Analyzer View</code>メニューを実行すると、Zlibアナライザーを、左側へ表示します。ファイル内のzlibデータを探査、解凍できます。</p>
</div><div><h3>対応フォーマット</h3>
<p>探査、解凍に対応しているのは、<code>deflate (無印)</code>で圧縮されたデータのみです。<code>GZip</code>などのデータには対応しておりません。</p>
</div><div><h3>簡易探査</h3>
<p><code>Start</code>を押すと大雑把にzlibデータを検索します。探査中はUIがフリーズします。操作できません。
終わると探査結果がリストビューへ表示されます。この探査結果はかなりいい加減なものです。正確ではありません。</p>
</div><div><h3>詳細探査 &amp; 解凍保存</h3>
<p>次に、<code>Save All</code>を押すと上の探査結果すべてを解凍してみます。
解凍できる正常なデータがある場合、解凍データを保存フォルダへ書き込みます。
解凍できなかったアドレスは上記探査結果から削除され、解凍もされません。</p>
<p>探査結果のリストを選択して、Saveで単体を解凍することもできます。
正しいzlibデータのアドレスだった場合、解凍データが保存フォルダへ保存されます。
zlibデータの誤検知のアドレスだった場合、リストからアドレスが削除され、何も保存されません。</p>
</div></article></section><section id="other"><!-- Introduction--><header id="other.intro"><h1>その他</h1></header><!-- Articles--><article id="other.tips"><h2><code>Tips</code></h2><div><ul>
<li>マウス中ボタンを押すと、現在のカレットへ飛ぶ</li>
<li>マウスの左ボタンをダブルクリックすると、ステータスバーに表示されるカーソル位置のデータ長が、<code>byte</code>/<code>word</code>/<code>dword</code>と順次切り変わります。<br>ステータスバーのこのペインを直接クリックしても切り変えられます。<code>Jump-Offset</code>および<code>Edit</code>-<code>Enter Value</code>メニューは、このデータ長を元に実行されます。</li>
</ul>
</div></article></section><section id="specialthanks"><!-- Introduction--><header id="specialthanks.intro"><h1>Special Thanks</h1></header><!-- Articles--><article id="specialthanks.specialthanks"><h2>Special Thanks</h2><div><h4>Binary Editor BZ - original version -</h4>
<ul>
<li><a href="http://www.vcraft.jp/soft/bz.html">Binary Editor BZ 1.6.2 Win</a> (<code>New BSD License</code>) ---    Copyright (c) 1996-2004 <a href="http://www.vcraft.jp/index.html">c.mos</a></li>
</ul>
<h4>Contribute</h4>
<ul>
<li>doraneko (<code>BZ1.06</code>)</li>
</ul>
<h4>Bug-report</h4>
<ul>
<li>satou.takashi</li>
<li>SHIROUZU Hiroaki</li>
<li>nobumasa.tamaoki</li>
</ul>
<h4>This Help (Main - css, build script, etc...)</h4>
<ul>
<li><a href="https://github.com/BonsaiDen/JavaScript-Garden">JavaScript Garden</a> (<code>MIT License</code>) ---    Copyright (c) 2010 Ivo Wetzel.</li>
</ul>
<h4>This Help (Compilers - Node.js)</h4>
<ul>
<li><a href="http://nodejs.org/">Node.js</a></li>
<li><a href="https://github.com/visionmedia/jade/">Jade</a> (<code>MIT License</code>) ---     Copyright (c) 2009-2010 TJ Holowaychuk <a href="&#109;&#x61;&#x69;&#108;&#116;&#x6f;&#58;&#116;&#106;&#x40;&#118;&#105;&#x73;&#105;&#x6f;&#110;&#45;&#x6d;&#x65;&#100;&#x69;&#97;&#x2e;&#99;&#x61;">&#116;&#106;&#x40;&#118;&#105;&#x73;&#105;&#x6f;&#110;&#45;&#x6d;&#x65;&#100;&#x69;&#97;&#x2e;&#99;&#x61;</a></li>
<li><a href="https://github.com/chjj/">marked</a> (<code>MIT License</code>) ---    Copyright (c) 2011-2013, Christopher Jeffrey (<a href="https://github.com/chjj/"><a href="https://github.com/chjj/">https://github.com/chjj/</a></a>)</li>
<li><a href="https://github.com/BonsaiDen/Fomatto">fomatto</a>, <a href="https://github.com/BonsaiDen/neko.js">neko</a> (<code>MIT License</code>) ---    Copyright (c) 2010 Ivo Wetzel.</li>
</ul>
<h4>This Help (JavaScript)</h4>
<ul>
<li><a href="http://jquery.com/">jQuery</a> (<code>MIT License</code>) --- Copyright 2013 jQuery Foundation and other contributors</li>
<li><a href="http://detectmobilebrowser.com/">jQuery.browser.mobile</a> (<code>public domain</code>)</li>
<li><a href="https://github.com/aFarkas/html5shiv">HTML5 Shiv</a> (<code>MIT/GPL2 Licensed</code>) ---    @afarkas @jdalton @jon_neal @rem</li>
<li><a href="http://code.google.com/p/google-code-prettify/">prettify.js</a> (<code>Apache License</code>) ---    Copyright 2011 Mike Samuel et al</li>
</ul>
</div></article></section><!-- Footer--><footer><p>Copyright &copy; 2013 c.mos & devil.tamachan. Built with 
<a href="http://nodejs.org/">Node.js </a>using a
<a href="https://github.com/visionmedia/jade/">jade </a>template.
</p></footer><!--script(src='http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js')--><!--script(src='https://google-code-prettify.googlecode.com/svn/loader/prettify.js')--><script src="javascript/jquery.min.js"></script><script src="javascript/prettify.js"></script><script src="javascript/detectmobilebrowser.js"></script><script src="javascript/garden.js"></script></body></html>